import React, { useState, useEffect } from 'react'
import { useHistory, useLocation } from "react-router-dom";
import mini_logo from '../../assets/images/mini-logo.svg';
import letter_logo from '../../assets/images/letter-logo.svg';
const newNavigation = () => {
  const [color, setColor] = useState([true, false, false, false, false])
  const [updateType, setUpdateType] = useState('')
  const history = useHistory();
  const location = useLocation();
  var type = window.localStorage.getItem("type");
  var links = type === "hospital" ? ['', '/staffhiring', '/myhiring', '/chats', '/attendance', 'calls'] : ['', '/find-jobs', '/my-jobs', '/chats', '/attendance', 'calls'];
  useEffect(() => {
    setUpdateType(type)
  }, [updateType])
  const navTo = (num) => {
    // var newcolor = color;
    console.log(num, 'nummmmmmmmmmm');
    for (var i = 0; i < color.length; i++) {
      if (num === i) {
        color[i] = true;
        //--------------- nav to specific link
      } else {
        color[i] = false;
      }
    }
    console.log('color in loop' + color);
    console.log("type", type);
    setColor(color);
    console.log("called");
    if (type === "hospital") {
      var links = ['', '/staffhiring', '/myhiring', '/chats', '/attendance', 'calls'];
      history.push('/main/' + updateType + links[num]);
      console.log(links + "in if");
    }
    if (type === "staff") {
      var links = ['', '/find-jobs', '/my-jobs', '/chats', '/attendance', 'calls'];
      history.push('/main/' + updateType + links[num]);
      console.log(links + "in elseif")
      console.log(`/main/${updateType}${links[num]}`, window.location.pathname);
    }
    console.log("called after if link for history.push");
    console.log(window.location.pathname, 'pathnameeeeeee');
    // history.push('/main/' + this.props.type + links[num]);
  }
  return (
    <div className="theme2_side_nav">
      <div className="theme2_logo_container">
        <img src={mini_logo} alt="mini-logo.png" width="40px" />
        <img src={letter_logo} alt="letter-logo.png" className="theme2_letter_logo" />
      </div>
      <div className="theme2_nav_item" onClick={() => navTo(0)} style={{ color: `/main/${updateType}${links[0]}` === location.pathname ? "#009CDE" : "#333333" }}>
        <svg width="24" height="24" viewBox="0 0 32 32" fill={`/main/${updateType}${links[0]}` === location.pathname ? "#009CDE" : "#333333"} xmlns="http://www.w3.org/2000/svg">
          <path stroke="white" strokeWidth="0.8" d="M27.6667 1H4.33333C2.5 1 1 2.5 1 4.33333V27.6667C1 29.5 2.5 31 4.33333 31H27.6667C29.5 31 31 29.5 31 27.6667V4.33333C31 2.5 29.5 1 27.6667 1ZM4.33333 27.6667V4.33333H14.3333V27.6667H4.33333ZM27.6667 27.6667H17.6667V16H27.6667V27.6667ZM27.6667 12.6667H17.6667V4.33333H27.6667V12.6667Z" />
        </svg>
        <b className="theme2_nav_text" > Dashboard </b>
      </div>
      <div className="theme2_nav_item" onClick={() => navTo(1)} style={{ color: `/main/${updateType}${links[1]}` === location.pathname ? "#009CDE" : "#333333" }}>
        <svg width="24" height="28" viewBox="0 0 32 36" fill={`/main/${updateType}${links[1]}` === location.pathname ? "#009CDE" : "#333333"} xmlns="http://www.w3.org/2000/svg">
          <path stroke="white" strokeWidth="0.8" d="M9.57143 17.3393V14.6607C9.57143 14.2169 9.93123 13.8571 10.375 13.8571H13.0536C13.4973 13.8571 13.8571 14.2169 13.8571 14.6607V17.3393C13.8571 17.7831 13.4973 18.1429 13.0536 18.1429H10.375C9.93123 18.1429 9.57143 17.7831 9.57143 17.3393ZM18.9464 18.1429H21.625C22.0688 18.1429 22.4286 17.7831 22.4286 17.3393V14.6607C22.4286 14.2169 22.0688 13.8571 21.625 13.8571H18.9464C18.5027 13.8571 18.1429 14.2169 18.1429 14.6607V17.3393C18.1429 17.7831 18.5027 18.1429 18.9464 18.1429ZM13.8571 23.7679V21.0893C13.8571 20.6455 13.4973 20.2857 13.0536 20.2857H10.375C9.93123 20.2857 9.57143 20.6455 9.57143 21.0893V23.7679C9.57143 24.2116 9.93123 24.5714 10.375 24.5714H13.0536C13.4973 24.5714 13.8571 24.2116 13.8571 23.7679ZM18.9464 24.5714H21.625C22.0688 24.5714 22.4286 24.2116 22.4286 23.7679V21.0893C22.4286 20.6455 22.0688 20.2857 21.625 20.2857H18.9464C18.5027 20.2857 18.1429 20.6455 18.1429 21.0893V23.7679C18.1429 24.2116 18.5027 24.5714 18.9464 24.5714ZM31 32.875V35.2857H1V32.875C1 32.4312 1.3598 32.0714 1.80357 32.0714H3.10938V6.69431C3.10938 5.91638 3.82891 5.28571 4.71652 5.28571H10.6429V2.60714C10.6429 1.71953 11.3624 1 12.25 1H19.75C20.6376 1 21.3571 1.71953 21.3571 2.60714V5.28571H27.2835C28.1711 5.28571 28.8906 5.91638 28.8906 6.69431V32.0714H30.1964C30.6402 32.0714 31 32.4312 31 32.875ZM6.32366 32.0045H13.8571V27.5179C13.8571 27.0741 14.2169 26.7143 14.6607 26.7143H17.3393C17.7831 26.7143 18.1429 27.0741 18.1429 27.5179V32.0045H25.6763V8.5H21.3571V10.1071C21.3571 10.9948 20.6376 11.7143 19.75 11.7143H12.25C11.3624 11.7143 10.6429 10.9948 10.6429 10.1071V8.5H6.32366V32.0045ZM18.8125 5.28571H17.0714V3.54464C17.0714 3.43808 17.0291 3.33589 16.9537 3.26054C16.8784 3.18519 16.7762 3.14286 16.6696 3.14286H15.3304C15.2238 3.14286 15.1216 3.18519 15.0463 3.26054C14.9709 3.33589 14.9286 3.43808 14.9286 3.54464V5.28571H13.1875C13.0809 5.28571 12.9787 5.32805 12.9034 5.4034C12.828 5.47874 12.7857 5.58094 12.7857 5.6875V7.02679C12.7857 7.13335 12.828 7.23554 12.9034 7.31089C12.9787 7.38624 13.0809 7.42857 13.1875 7.42857H14.9286V9.16964C14.9286 9.2762 14.9709 9.3784 15.0463 9.45375C15.1216 9.5291 15.2238 9.57143 15.3304 9.57143H16.6696C16.7762 9.57143 16.8784 9.5291 16.9537 9.45375C17.0291 9.3784 17.0714 9.2762 17.0714 9.16964V7.42857H18.8125C18.9191 7.42857 19.0213 7.38624 19.0966 7.31089C19.172 7.23554 19.2143 7.13335 19.2143 7.02679V5.6875C19.2143 5.58094 19.172 5.47874 19.0966 5.4034C19.0213 5.32805 18.9191 5.28571 18.8125 5.28571Z" />
        </svg>
        <b className="theme2_nav_text"> {updateType === "hospital" ? "Staff Hiring" : "Find Jobs"}  </b>
      </div>
      <div className="theme2_nav_item" onClick={() => navTo(2)} style={{ color: `/main/${updateType}${links[2]}` === location.pathname ? "#009CDE" : "#333333" }}>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 30 30" fill={`/main/${updateType}${links[2]}` === location.pathname ? "#009CDE" : "#333333"}>
          <path fillRule="evenodd" clipRule="evenodd" d="M19.2857 0V2.14286C20.7065 2.14286 22.0691 2.70727 23.0738 3.71193C24.0784 4.71659 24.6429 6.0792 24.6429 7.5C24.6429 8.9208 24.0784 10.2834 23.0738 11.2881C22.0691 12.2927 20.7065 12.8571 19.2857 12.8571V15C21.2748 15 23.1825 14.2098 24.589 12.8033C25.9955 11.3968 26.7857 9.48912 26.7857 7.5C26.7857 5.51088 25.9955 3.60322 24.589 2.1967C23.1825 0.790176 21.2748 0 19.2857 0ZM19.2857 30H21.4286V24.6429C21.4263 22.6544 20.6354 20.7481 19.2294 19.3421C17.8233 17.936 15.917 17.1451 13.9286 17.1429H7.5C5.51157 17.1451 3.60524 17.936 2.1992 19.3421C0.793174 20.7481 0.0022686 22.6544 0 24.6429V30H2.14286V24.6429C2.14456 23.2226 2.70952 21.861 3.71381 20.8567C4.7181 19.8524 6.07972 19.2874 7.5 19.2857H13.9286C15.3489 19.2874 16.7105 19.8524 17.7148 20.8567C18.7191 21.861 19.284 23.2226 19.2857 24.6429V30ZM27.8571 30H30V24.6429C29.9977 22.6544 29.2068 20.7481 27.8008 19.3421C26.3948 17.936 24.4884 17.1451 22.5 17.1429V19.2857C23.9203 19.2874 25.2819 19.8524 26.2862 20.8567C27.2905 21.861 27.8554 23.2226 27.8571 24.6429V30ZM13.6906 3.0457C12.8096 2.45705 11.7738 2.14286 10.7143 2.14286C9.29349 2.14286 7.93088 2.70727 6.92622 3.71193C5.92156 4.71659 5.35715 6.0792 5.35715 7.5C5.35715 8.55954 5.67134 9.59529 6.25999 10.4763C6.84864 11.3572 7.68531 12.0439 8.6642 12.4494C9.64309 12.8548 10.7202 12.9609 11.7594 12.7542C12.7986 12.5475 13.7532 12.0373 14.5024 11.2881C15.2516 10.5389 15.7618 9.58431 15.9685 8.54513C16.1752 7.50594 16.0691 6.4288 15.6636 5.44991C15.2582 4.47102 14.5715 3.63435 13.6906 3.0457ZM6.54751 1.26398C7.78088 0.439867 9.23093 0 10.7143 0C12.7034 0 14.6111 0.790176 16.0176 2.1967C17.4241 3.60322 18.2143 5.51088 18.2143 7.5C18.2143 8.98336 17.7744 10.4334 16.9503 11.6668C16.1262 12.9001 14.9549 13.8614 13.5844 14.4291C12.214 14.9968 10.706 15.1453 9.25111 14.8559C7.79625 14.5665 6.45988 13.8522 5.41099 12.8033C4.36209 11.7544 3.64779 10.418 3.3584 8.96318C3.06901 7.50832 3.21754 6.00032 3.78519 4.62987C4.35285 3.25943 5.31414 2.08809 6.54751 1.26398Z" />
        </svg>
        <b className="theme2_nav_text"> {updateType === "hospital" ? "My Staff" : "My Jobs"} </b>
      </div>
      <div className="theme2_nav_item" onClick={() => navTo(3)} style={{ color: `/main/${updateType}${links[3]}` === location.pathname ? "#009CDE" : "#333333" }}>
        <svg width="24" height="24" viewBox="0 0 32 32" fill={`/main/${updateType}${links[3]}` === location.pathname ? "#009CDE" : "#333333"} xmlns="http://www.w3.org/2000/svg">
          <path d="M22 1.28571C22.7956 1.28571 23.5587 1.60178 24.1213 2.16439C24.6839 2.72699 25 3.49006 25 4.28571H4V21.0512C3.20435 21.0512 2.44129 20.7351 1.87868 20.1725C1.31607 19.6099 1 18.8469 1 18.0512V4.28571C1 3.49006 1.31607 2.72699 1.87868 2.16439C2.44129 1.60178 3.20435 1.28571 4 1.28571H22Z" stroke="white" strokeWidth="0.8" />
          <path d="M19 31.2857L14.9995 27.0512H10C9.20435 27.0512 8.44129 26.7351 7.87868 26.1725C7.31607 25.6099 7 24.8469 7 24.0512V10.2857C7 9.49006 7.31607 8.72699 7.87868 8.16439C8.44129 7.60178 9.20435 7.28571 10 7.28571H28C28.7956 7.28571 29.5587 7.60178 30.1213 8.16439C30.6839 8.72699 31 9.49006 31 10.2857V24.0512C31 24.8469 30.6839 25.6099 30.1213 26.1725C29.5587 26.7351 28.7956 27.0512 28 27.0512H23.0005L19 31.2857ZM21.7075 24.0512H28V10.2857H10V24.0512H16.2925L19 26.9162L21.7075 24.0512Z" stroke="white" strokeWidth="0.8" />
        </svg>
        <b className="theme2_nav_text"> Chat </b>
      </div>
      <div className="theme2_nav_item" onClick={() => navTo(4)} style={{ color: `/main/${updateType}${links[4]}` === window.location.pathname ? "#009CDE" : "#333333" }}>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 30 30" fill={`/main/${updateType}${links[4]}` === window.location.pathname ? "#009CDE" : "#333333"}>
<path fillRule="evenodd" clipRule="evenodd" d="M24.1667 28.3334C25.2717 28.3334 26.3315 27.8944 27.1129 27.113C27.8943 26.3316 28.3333 25.2718 28.3333 24.1668C28.3333 23.0617 27.8943 22.002 27.1129 21.2206C26.3315 20.4392 25.2717 20.0002 24.1667 20.0002C23.0617 20.0002 22.0019 20.4392 21.2205 21.2206C20.4391 22.002 20.0001 23.0617 20.0001 24.1668C20.0001 25.2718 20.4391 26.3316 21.2205 27.113C22.0019 27.8944 23.0617 28.3334 24.1667 28.3334ZM24.1667 30C25.7138 30 27.1975 29.3854 28.2914 28.2915C29.3853 27.1976 29.9999 25.7139 29.9999 24.1668C29.9999 22.6197 29.3853 21.136 28.2914 20.0421C27.1975 18.9482 25.7138 18.3336 24.1667 18.3336C22.6196 18.3336 21.1359 18.9482 20.042 20.0421C18.9481 21.136 18.3335 22.6197 18.3335 24.1668C18.3335 25.7139 18.9481 27.1976 20.042 28.2915C21.1359 29.3854 22.6196 30 24.1667 30Z" />
<path fillRule="evenodd" clipRule="evenodd" d="M24.1669 21.2505C24.3879 21.2505 24.5998 21.3383 24.7561 21.4946C24.9124 21.6509 25.0002 21.8628 25.0002 22.0838V23.8221L25.5893 24.4113C25.7411 24.5684 25.8251 24.7789 25.8232 24.9974C25.8213 25.2159 25.7337 25.4249 25.5792 25.5794C25.4247 25.7339 25.2157 25.8216 24.9972 25.8235C24.7787 25.8254 24.5682 25.7414 24.411 25.5896L23.3335 24.5121V22.0838C23.3335 21.8628 23.4213 21.6509 23.5776 21.4946C23.7339 21.3383 23.9459 21.2505 24.1669 21.2505ZM6.66725 14.1673H5.00061V15.834H6.66725V14.1673ZM5.00061 12.5007C4.5586 12.5007 4.13468 12.6763 3.82213 12.9888C3.50958 13.3014 3.33398 13.7253 3.33398 14.1673V15.834C3.33398 16.276 3.50958 16.6999 3.82213 17.0124C4.13468 17.325 4.5586 17.5006 5.00061 17.5006H6.66725C7.10926 17.5006 7.53318 17.325 7.84573 17.0124C8.15828 16.6999 8.33388 16.276 8.33388 15.834V14.1673C8.33388 13.7253 8.15828 13.3014 7.84573 12.9888C7.53318 12.6763 7.10926 12.5007 6.66725 12.5007H5.00061ZM13.3338 14.1673H11.6671V15.834H13.3338V14.1673ZM11.6671 12.5007C11.2251 12.5007 10.8012 12.6763 10.4887 12.9888C10.1761 13.3014 10.0005 13.7253 10.0005 14.1673V15.834C10.0005 16.276 10.1761 16.6999 10.4887 17.0124C10.8012 17.325 11.2251 17.5006 11.6671 17.5006H13.3338C13.7758 17.5006 14.1997 17.325 14.5123 17.0124C14.8248 16.6999 15.0004 16.276 15.0004 15.834V14.1673C15.0004 13.7253 14.8248 13.3014 14.5123 12.9888C14.1997 12.6763 13.7758 12.5007 13.3338 12.5007H11.6671ZM20.0003 14.1673H18.3337V15.834H20.0003V14.1673ZM18.3337 12.5007C17.8916 12.5007 17.4677 12.6763 17.1552 12.9888C16.8426 13.3014 16.667 13.7253 16.667 14.1673V15.834C16.667 16.276 16.8426 16.6999 17.1552 17.0124C17.4677 17.325 17.8916 17.5006 18.3337 17.5006H20.0003C20.4423 17.5006 20.8662 17.325 21.1788 17.0124C21.4913 16.6999 21.6669 16.276 21.6669 15.834V14.1673C21.6669 13.7253 21.4913 13.3014 21.1788 12.9888C20.8662 12.6763 20.4423 12.5007 20.0003 12.5007H18.3337ZM6.66725 20.8339H5.00061V22.5005H6.66725V20.8339ZM5.00061 19.1672C4.5586 19.1672 4.13468 19.3428 3.82213 19.6554C3.50958 19.9679 3.33398 20.3918 3.33398 20.8339V22.5005C3.33398 22.9425 3.50958 23.3664 3.82213 23.679C4.13468 23.9915 4.5586 24.1671 5.00061 24.1671H6.66725C7.10926 24.1671 7.53318 23.9915 7.84573 23.679C8.15828 23.3664 8.33388 22.9425 8.33388 22.5005V20.8339C8.33388 20.3918 8.15828 19.9679 7.84573 19.6554C7.53318 19.3428 7.10926 19.1672 6.66725 19.1672H5.00061ZM13.3338 20.8339H11.6671V22.5005H13.3338V20.8339ZM11.6671 19.1672C11.2251 19.1672 10.8012 19.3428 10.4887 19.6554C10.1761 19.9679 10.0005 20.3918 10.0005 20.8339V22.5005C10.0005 22.9425 10.1761 23.3664 10.4887 23.679C10.8012 23.9915 11.2251 24.1671 11.6671 24.1671H13.3338C13.7758 24.1671 14.1997 23.9915 14.5123 23.679C14.8248 23.3664 15.0004 22.9425 15.0004 22.5005V20.8339C15.0004 20.3918 14.8248 19.9679 14.5123 19.6554C14.1997 19.3428 13.7758 19.1672 13.3338 19.1672H11.6671Z"/>
<path fillRule="evenodd" clipRule="evenodd" d="M1.66663 4.99891C1.66663 4.7779 1.75443 4.56594 1.9107 4.40967C2.06698 4.25339 2.27894 4.16559 2.49995 4.16559H6.66652V2.49896H2.49995C1.83692 2.49896 1.20105 2.76235 0.732217 3.23118C0.263386 3.70001 0 4.33588 0 4.99891V24.9985C0 25.6615 0.263386 26.2974 0.732217 26.7662C1.20105 27.235 1.83692 27.4984 2.49995 27.4984H19.3787C19.0234 26.9894 18.7519 26.4267 18.5746 25.8318H2.49995C2.27894 25.8318 2.06698 25.744 1.9107 25.5877C1.75443 25.4314 1.66663 25.2195 1.66663 24.9985V4.99891ZM23.3328 18.3903C23.8856 18.3112 24.4467 18.3112 24.9995 18.3903V4.99891C24.9995 4.33588 24.7361 3.70001 24.2672 3.23118C23.7984 2.76235 23.1625 2.49896 22.4995 2.49896H19.9996V4.16559H22.4995C22.7205 4.16559 22.9325 4.25339 23.0888 4.40967C23.245 4.56594 23.3328 4.7779 23.3328 4.99891V18.3903ZM8.33315 4.16559H17.1355V2.49896H8.33315V4.16559Z" />
<path fillRule="evenodd" clipRule="evenodd" d="M24.9998 9.99848H1.66699V8.33185H24.9998V9.99848Z" />
<path d="M4.99951 0.833315C4.99951 0.612306 5.08731 0.400349 5.24358 0.244073C5.39986 0.0877956 5.61182 0 5.83283 0C6.05384 0 6.26579 0.0877956 6.42207 0.244073C6.57835 0.400349 6.66614 0.612306 6.66614 0.833315V4.99989C6.66614 5.2209 6.57835 5.43286 6.42207 5.58913C6.26579 5.74541 6.05384 5.83321 5.83283 5.83321C5.61182 5.83321 5.39986 5.74541 5.24358 5.58913C5.08731 5.43286 4.99951 5.2209 4.99951 4.99989V0.833315ZM16.6659 0.833315C16.6659 0.612306 16.7537 0.400349 16.91 0.244073C17.0663 0.0877956 17.2782 0 17.4992 0C17.7202 0 17.9322 0.0877956 18.0885 0.244073C18.2448 0.400349 18.3326 0.612306 18.3326 0.833315V4.99989C18.3326 5.2209 18.2448 5.43286 18.0885 5.58913C17.9322 5.74541 17.7202 5.83321 17.4992 5.83321C17.2782 5.83321 17.0663 5.74541 16.91 5.58913C16.7537 5.43286 16.6659 5.2209 16.6659 4.99989V0.833315Z" />
</svg>
        <b className="theme2_nav_text"> Attendance </b>
      </div>
    </div>
  )
}
export default newNavigation;

